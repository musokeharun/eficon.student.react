{"ast":null,"code":"var _jsxFileName = \"/home/haruna/eficon.apps/student.eficon/src/components/register/RegisterDetails.js\";\nimport React from \"react\";\nimport Joi from \"joi-browser\";\nimport is from \"is_js\";\nimport Form from \"../common/form\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FileInput from \"../common/fileinput\";\nimport CheckRadio from \"../common/checkRadio\";\nimport { studentApi } from \"../../config.json\";\nimport httpService from \"../../services/httpService\";\nimport { serialize } from \"object-to-formdata\";\nimport { Collapse } from \"bootstrap\";\nimport { toast } from \"react-toastify\";\nimport { removePreloader, showPreloader } from \"../../App\";\n\nclass RegisterDetails extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        gender: \"\"\n      },\n      errors: {},\n      isSecond: false,\n      files: {\n        id: null\n      }\n    };\n    this.schema = {\n      firstname: Joi.string().required().label(\"First Name\"),\n      lastname: Joi.string().required().label(\"Lastname\"),\n      email: Joi.string().required().email().label(\"Email\"),\n      msisdn: Joi.string().required().label(\"Contact\"),\n      residence: Joi.string().required().label(\"Residence\"),\n      nationality: Joi.string().required().label(\"Nationality\"),\n      dob: Joi.string().required().label(\"Date o Birth\"),\n      gender: Joi.string().required().label(\"Gender\"),\n      password: Joi.string().required().min(6).label(\"Password\")\n    };\n\n    this.doSubmit = async () => {\n      showPreloader();\n      const options = {\n        indices: false,\n        nullsAsUndefineds: false,\n        booleansAsIntegers: false,\n        allowEmptyArrays: false\n      };\n\n      try {\n        const {\n          data,\n          files\n        } = this.state;\n        let all = { ...data,\n          ...files\n        };\n        const formData = serialize(all, options);\n        console.log(all);\n        let {\n          data: res\n        } = httpService.post(studentApi + \"/register\", formData);\n        this.props.onProgressChange();\n        console.log(res);\n      } catch (ex) {\n        let res = ex.response.data;\n\n        if (ex.response && ex.response.status === 400) {\n          const errors = { ...this.state.errors,\n            ...res\n          };\n          this.setState({\n            errors\n          });\n          return;\n        }\n\n        if (is.object(res)) {\n          Object.getOwnPropertyNames(res).forEach(prop => {\n            toast(`${prop}:${res[prop]}`, {\n              type: \"error\"\n            });\n          });\n        } else if (is.string(res)) {\n          toast(res, {\n            type: \"error\"\n          });\n        }\n      } finally {\n        removePreloader();\n      }\n    };\n\n    this.checkChange = (name, value) => {\n      const state = { ...this.state\n      };\n      state.data[name] = value;\n      this.setState(state);\n    };\n\n    this.fileChange = (name, value) => {\n      const state = { ...this.state\n      };\n      state.files[name] = value;\n      this.setState(state);\n    };\n\n    this.toggleCollapseOrSubmit = () => {\n      const state = { ...this.state\n      };\n\n      if (state.isSecond) {\n        this.handleSubmit(new Event(\"submit\"));\n        return;\n      }\n\n      const myCollapse = document.getElementById('moreFields');\n      let bsCollapse;\n      bsCollapse = new Collapse(myCollapse);\n      bsCollapse.toggle();\n      state.isSecond = true;\n      this.setState(state);\n    };\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    console.log(is);\n    let name = \"id\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"my-3 text-dark fw-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, this.renderInput(\"firstname\", \"Firstname\"), this.renderInput(\"lastname\", \"Lastname\"), this.renderInput(\"email\", \"Email\"), this.renderInput(\"msisdn\", \"Contact\", \"number\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-around align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CheckRadio, {\n      label: \"Male\",\n      currentValue: data.gender,\n      name: \"gender\",\n      type: \"radio\",\n      value: \"m\",\n      onChange: value => this.checkChange(\"gender\", value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(CheckRadio, {\n      label: \"Female\",\n      currentValue: data.gender,\n      name: \"gender\",\n      type: \"radio\",\n      value: \"f\",\n      onChange: value => this.checkChange(\"gender\", value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse fade\",\n      id: \"moreFields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, this.renderInput(\"dob\", \"DOB\", \"date\"), this.renderInput(\"residence\", \"Residence\", \"text\"), this.renderInput(\"nationality\", \"Nationality\", \"text\"), this.renderInput(\"password\", \"Password\", \"text\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      label: \"Upload Identification document\",\n      handleChange: e => this.fileChange(e.currentTarget.name, e.currentTarget.files[0]),\n      name: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.toggleCollapseOrSubmit(),\n      type: \"button\",\n      className: \"btn btn-outline-warning btn-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, \"Continue \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      className: \"mx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 34\n      }\n    }))));\n  }\n\n}\n\nexport default RegisterDetails;","map":{"version":3,"sources":["/home/haruna/eficon.apps/student.eficon/src/components/register/RegisterDetails.js"],"names":["React","Joi","is","Form","faArrowRight","FontAwesomeIcon","FileInput","CheckRadio","studentApi","httpService","serialize","Collapse","toast","removePreloader","showPreloader","RegisterDetails","state","data","firstname","lastname","email","gender","errors","isSecond","files","id","schema","string","required","label","msisdn","residence","nationality","dob","password","min","doSubmit","options","indices","nullsAsUndefineds","booleansAsIntegers","allowEmptyArrays","all","formData","console","log","res","post","props","onProgressChange","ex","response","status","setState","object","Object","getOwnPropertyNames","forEach","prop","type","checkChange","name","value","fileChange","toggleCollapseOrSubmit","handleSubmit","Event","myCollapse","document","getElementById","bsCollapse","toggle","render","renderInput","e","currentTarget"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport is from \"is_js\";\nimport Form from \"../common/form\";\nimport {faArrowRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport FileInput from \"../common/fileinput\";\nimport CheckRadio from \"../common/checkRadio\";\nimport {studentApi} from \"../../config.json\";\nimport httpService from \"../../services/httpService\";\nimport {serialize} from \"object-to-formdata\";\nimport {Collapse} from \"bootstrap\";\nimport {toast} from \"react-toastify\";\nimport {removePreloader, showPreloader} from \"../../App\";\n\nclass RegisterDetails extends Form {\n\n    state = {\n        data: {firstname: \"\", lastname: \"\", email: \"\", gender: \"\"},\n        errors: {},\n        isSecond: false,\n        files: {\n            id: null,\n\n        }\n    };\n\n    schema = {\n        firstname: Joi.string()\n            .required()\n            .label(\"First Name\"),\n        lastname: Joi.string()\n            .required()\n            .label(\"Lastname\"),\n        email: Joi.string()\n            .required()\n            .email()\n            .label(\"Email\"),\n        msisdn: Joi.string()\n            .required()\n            .label(\"Contact\"),\n        residence: Joi.string()\n            .required()\n            .label(\"Residence\"),\n        nationality: Joi.string()\n            .required()\n            .label(\"Nationality\"),\n        dob: Joi.string()\n            .required()\n            .label(\"Date o Birth\"),\n        gender: Joi.string()\n            .required()\n            .label(\"Gender\"),\n        password: Joi.string()\n            .required()\n            .min(6)\n            .label(\"Password\")\n    };\n\n    doSubmit = async () => {\n\n        showPreloader()\n\n        const options = {\n            indices: false,\n            nullsAsUndefineds: false,\n            booleansAsIntegers: false,\n            allowEmptyArrays: false,\n        };\n        try {\n            const {data, files} = this.state;\n            let all = {...data, ...files};\n\n            const formData = serialize(\n                all,\n                options\n            );\n            console.log(all);\n\n            let {data: res} = httpService.post(studentApi + \"/register\", formData);\n\n            this.props.onProgressChange();\n\n            console.log(res);\n\n        } catch (ex) {\n            let res = ex.response.data;\n            if (ex.response && ex.response.status === 400) {\n                const errors = {...this.state.errors, ...res};\n                this.setState({errors});\n                return;\n            }\n\n            if (is.object(res)) {\n                Object.getOwnPropertyNames(res).forEach(prop => {\n                    toast(`${prop}:${res[prop]}`, {type: \"error\"})\n                })\n            } else if (is.string(res)) {\n                toast(res, {type: \"error\"})\n            }\n\n        }finally {\n            removePreloader()\n        }\n    };\n\n    checkChange = (name, value) => {\n        const state = {...this.state};\n        state.data[name] = value;\n        this.setState(state);\n    }\n\n    fileChange = (name, value) => {\n        const state = {...this.state};\n        state.files[name] = value;\n        this.setState(state);\n    }\n\n    toggleCollapseOrSubmit = () => {\n        const state = {...this.state};\n        if (state.isSecond) {\n            this.handleSubmit(new Event(\"submit\"));\n            return;\n        }\n        const myCollapse = document.getElementById('moreFields');\n        let bsCollapse;\n        bsCollapse = new Collapse(myCollapse);\n        bsCollapse.toggle();\n        state.isSecond = true;\n        this.setState(state);\n    }\n\n    render() {\n\n        const {data} = this.state;\n        console.log(is);\n\n        let name = \"id\";\n        return (\n            <div>\n                <h1 className={\"my-3 text-dark fw-light\"}>Register</h1>\n                <form onSubmit={this.handleSubmit}>\n                    {this.renderInput(\"firstname\", \"Firstname\")}\n                    {this.renderInput(\"lastname\", \"Lastname\")}\n                    {this.renderInput(\"email\", \"Email\")}\n                    {this.renderInput(\"msisdn\", \"Contact\", \"number\")}\n\n                    <label>Gender</label>\n                    <div className={\"d-flex justify-content-around align-items-center mb-3\"}>\n                        <CheckRadio label={\"Male\"} currentValue={data.gender} name={\"gender\"} type={\"radio\"}\n                                    value={\"m\"} onChange={value => this.checkChange(\"gender\", value)}/>\n                        <CheckRadio label={\"Female\"} currentValue={data.gender} name={\"gender\"} type={\"radio\"}\n                                    value={\"f\"} onChange={value => this.checkChange(\"gender\", value)}/>\n                    </div>\n\n                    <div className={\"collapse fade\"} id={\"moreFields\"}>\n                        {this.renderInput(\"dob\", \"DOB\", \"date\")}\n                        {this.renderInput(\"residence\", \"Residence\", \"text\")}\n                        {this.renderInput(\"nationality\", \"Nationality\", \"text\")}\n                        {this.renderInput(\"password\", \"Password\", \"text\")}\n                        <div className={\"row mb-3\"}>\n                            <div className={\"col-6\"}>\n                                <FileInput label={\"Upload Identification document\"}\n                                           handleChange={e => this.fileChange(e.currentTarget.name, e.currentTarget.files[0])}\n                                           name={name}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <button onClick={() => this.toggleCollapseOrSubmit()} type=\"button\"\n                            className=\"btn btn-outline-warning btn-lg\">\n                        Continue <FontAwesomeIcon icon={faArrowRight} className={\"mx-2\"}/>\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default RegisterDetails;\n"]},"metadata":{},"sourceType":"module"}