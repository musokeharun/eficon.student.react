{"ast":null,"code":"var _jsxFileName = \"/home/haruna/eficon.apps/student.eficon/src/components/register/RegisterDetails.js\";\nimport React from \"react\";\nimport Joi from \"joi-browser\";\nimport is from \"is_js\";\nimport Form from \"../common/form\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FileInput from \"../common/fileinput\";\nimport CheckRadio from \"../common/checkRadio\";\nimport { studentApi } from \"../../config.json\";\nimport httpService from \"../../services/httpService\";\nimport { serialize } from \"object-to-formdata\";\nimport { Collapse } from \"bootstrap\";\nimport { toast } from \"react-toastify\";\nimport { removePreloader, showPreloader } from \"../../App\";\n\nclass RegisterDetails extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        gender: \"\"\n      },\n      errors: {},\n      isSecond: false,\n      files: {\n        id: null,\n        image: null\n      }\n    };\n    this.schema = {\n      firstname: Joi.string().required().label(\"First Name\"),\n      lastname: Joi.string().required().label(\"Lastname\"),\n      email: Joi.string().required().email().label(\"Email\"),\n      msisdn: Joi.string().required().label(\"Contact\"),\n      residence: Joi.string().required().label(\"Residence\"),\n      nationality: Joi.string().required().label(\"Nationality\"),\n      dob: Joi.string().required().label(\"Date o Birth\"),\n      gender: Joi.string().required().label(\"Gender\"),\n      password: Joi.string().required().min(6).label(\"Password\")\n    };\n\n    this.doSubmit = async () => {\n      showPreloader();\n      const options = {\n        indices: false,\n        nullsAsUndefineds: false,\n        booleansAsIntegers: false,\n        allowEmptyArrays: false\n      };\n\n      try {\n        const {\n          data,\n          files\n        } = this.state;\n        let all = { ...data,\n          ...files\n        };\n        const formData = serialize(all, options);\n        console.log(all);\n        let {\n          data: res\n        } = httpService.post(studentApi + \"/register\", formData);\n        this.props.onProgressChange();\n        this.props.setData(all);\n        this.props.history.push(\"/register/documents\");\n        console.log(res);\n      } catch (ex) {\n        let res = ex.response.data;\n        let content = is.string(res) ? res : \"Could not load details\";\n        toast(content, {\n          type: \"error\"\n        });\n      } finally {\n        removePreloader();\n      }\n    };\n\n    this.checkChange = (name, value) => {\n      const state = { ...this.state\n      };\n      state.data[name] = value;\n      this.setState(state);\n    };\n\n    this.toggleCollapseOrSubmit = () => {\n      const state = { ...this.state\n      };\n\n      if (state.isSecond) {\n        this.handleSubmit(new Event(\"submit\"));\n        return;\n      }\n\n      const myCollapse = document.getElementById('moreFields');\n      let bsCollapse;\n      bsCollapse = new Collapse(myCollapse);\n      bsCollapse.toggle();\n      state.isSecond = true;\n      this.setState(state);\n    };\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    let name = \"id\";\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"my-3 text-dark fw-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, this.renderInput(\"firstname\", \"Firstname\"), this.renderInput(\"lastname\", \"Lastname\"), this.renderInput(\"email\", \"Email\"), this.renderInput(\"msisdn\", \"Contact\", \"number\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-around align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CheckRadio, {\n      label: \"Male\",\n      currentValue: data.gender,\n      name: \"gender\",\n      type: \"radio\",\n      value: \"m\",\n      onChange: value => this.checkChange(\"gender\", value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(CheckRadio, {\n      label: \"Female\",\n      currentValue: data.gender,\n      name: \"gender\",\n      type: \"radio\",\n      value: \"f\",\n      onChange: value => this.checkChange(\"gender\", value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse fade\",\n      id: \"moreFields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }\n    }, this.renderInput(\"dob\", \"DOB\", \"date\"), this.renderInput(\"residence\", \"Residence\", \"text\"), this.renderInput(\"nationality\", \"Nationality\", \"text\"), this.renderInput(\"password\", \"Password\", \"text\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      label: \"Upload Identification document\",\n      handleChange: e => this.handleFileChange(e.currentTarget.name, e.currentTarget.files[0]),\n      name: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      label: \"Upload Personal photo (passport size)\",\n      handleChange: e => this.handleFileChange(e.currentTarget.name, e.currentTarget.files[0]),\n      name: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.toggleCollapseOrSubmit(),\n      type: \"button\",\n      className: \"btn btn-outline-warning btn-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \"Continue \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      className: \"mx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 34\n      }\n    }))));\n  }\n\n}\n\nexport default RegisterDetails;","map":{"version":3,"sources":["/home/haruna/eficon.apps/student.eficon/src/components/register/RegisterDetails.js"],"names":["React","Joi","is","Form","faArrowRight","FontAwesomeIcon","FileInput","CheckRadio","studentApi","httpService","serialize","Collapse","toast","removePreloader","showPreloader","RegisterDetails","state","data","firstname","lastname","email","gender","errors","isSecond","files","id","image","schema","string","required","label","msisdn","residence","nationality","dob","password","min","doSubmit","options","indices","nullsAsUndefineds","booleansAsIntegers","allowEmptyArrays","all","formData","console","log","res","post","props","onProgressChange","setData","history","push","ex","response","content","type","checkChange","name","value","setState","toggleCollapseOrSubmit","handleSubmit","Event","myCollapse","document","getElementById","bsCollapse","toggle","render","renderInput","e","handleFileChange","currentTarget"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport is from \"is_js\";\nimport Form from \"../common/form\";\nimport {faArrowRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport FileInput from \"../common/fileinput\";\nimport CheckRadio from \"../common/checkRadio\";\nimport {studentApi} from \"../../config.json\";\nimport httpService from \"../../services/httpService\";\nimport {serialize} from \"object-to-formdata\";\nimport {Collapse} from \"bootstrap\";\nimport {toast} from \"react-toastify\";\nimport {removePreloader, showPreloader} from \"../../App\";\n\nclass RegisterDetails extends Form {\n\n    state = {\n        data: {firstname: \"\", lastname: \"\", email: \"\", gender: \"\"},\n        errors: {},\n        isSecond: false,\n        files: {\n            id: null,\n            image : null\n        }\n    };\n\n    schema = {\n        firstname: Joi.string()\n            .required()\n            .label(\"First Name\"),\n        lastname: Joi.string()\n            .required()\n            .label(\"Lastname\"),\n        email: Joi.string()\n            .required()\n            .email()\n            .label(\"Email\"),\n        msisdn: Joi.string()\n            .required()\n            .label(\"Contact\"),\n        residence: Joi.string()\n            .required()\n            .label(\"Residence\"),\n        nationality: Joi.string()\n            .required()\n            .label(\"Nationality\"),\n        dob: Joi.string()\n            .required()\n            .label(\"Date o Birth\"),\n        gender: Joi.string()\n            .required()\n            .label(\"Gender\"),\n        password: Joi.string()\n            .required()\n            .min(6)\n            .label(\"Password\")\n    };\n\n    doSubmit = async () => {\n\n        showPreloader()\n\n        const options = {\n            indices: false,\n            nullsAsUndefineds: false,\n            booleansAsIntegers: false,\n            allowEmptyArrays: false,\n        };\n        try {\n            const {data, files} = this.state;\n            let all = {...data, ...files};\n\n            const formData = serialize(\n                all,\n                options\n            );\n            console.log(all);\n\n            let {data: res} = httpService.post(studentApi + \"/register\", formData);\n            this.props.onProgressChange();\n            this.props.setData(all);\n            this.props.history.push(\"/register/documents\");\n            console.log(res);\n\n        } catch (ex) {\n            let res = ex.response.data;\n            let content = is.string(res) ? res : \"Could not load details\";\n            toast( content ,{ type : \"error\" })\n        } finally {\n            removePreloader()\n        }\n    };\n\n    checkChange = (name, value) => {\n        const state = {...this.state};\n        state.data[name] = value;\n        this.setState(state);\n    }\n\n\n    toggleCollapseOrSubmit = () => {\n        const state = {...this.state};\n        if (state.isSecond) {\n            this.handleSubmit(new Event(\"submit\"));\n            return;\n        }\n        const myCollapse = document.getElementById('moreFields');\n        let bsCollapse;\n        bsCollapse = new Collapse(myCollapse);\n        bsCollapse.toggle();\n        state.isSecond = true;\n        this.setState(state);\n    }\n\n    render() {\n\n        const {data} = this.state;\n\n        let name = \"id\";\n        return (\n            <div>\n                <h1 className={\"my-3 text-dark fw-light\"}>Register</h1>\n                <form onSubmit={this.handleSubmit}>\n                    {this.renderInput(\"firstname\", \"Firstname\")}\n                    {this.renderInput(\"lastname\", \"Lastname\")}\n                    {this.renderInput(\"email\", \"Email\")}\n                    {this.renderInput(\"msisdn\", \"Contact\", \"number\")}\n\n                    <label>Gender</label>\n                    <div className={\"d-flex justify-content-around align-items-center mb-3\"}>\n                        <CheckRadio label={\"Male\"} currentValue={data.gender} name={\"gender\"} type={\"radio\"}\n                                    value={\"m\"} onChange={value => this.checkChange(\"gender\", value)}/>\n                        <CheckRadio label={\"Female\"} currentValue={data.gender} name={\"gender\"} type={\"radio\"}\n                                    value={\"f\"} onChange={value => this.checkChange(\"gender\", value)}/>\n                    </div>\n\n                    <div className={\"collapse fade\"} id={\"moreFields\"}>\n                        {this.renderInput(\"dob\", \"DOB\", \"date\")}\n                        {this.renderInput(\"residence\", \"Residence\", \"text\")}\n                        {this.renderInput(\"nationality\", \"Nationality\", \"text\")}\n                        {this.renderInput(\"password\", \"Password\", \"text\")}\n                        <div className={\"row mb-3\"}>\n                            <div className={\"col-6\"}>\n                                <FileInput label={\"Upload Identification document\"}\n                                           handleChange={e => this.handleFileChange(e.currentTarget.name, e.currentTarget.files[0])}\n                                           name={name}\n                                />\n                            </div>\n                            <div className={\"col-6\"}>\n                                <FileInput label={\"Upload Personal photo (passport size)\"}\n                                           handleChange={e => this.handleFileChange(e.currentTarget.name, e.currentTarget.files[0])}\n                                           name={\"image\"}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <button onClick={() => this.toggleCollapseOrSubmit()} type=\"button\"\n                            className=\"btn btn-outline-warning btn-lg\">\n                        Continue <FontAwesomeIcon icon={faArrowRight} className={\"mx-2\"}/>\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default RegisterDetails;\n"]},"metadata":{},"sourceType":"module"}