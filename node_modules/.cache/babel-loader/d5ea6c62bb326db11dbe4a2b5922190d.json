{"ast":null,"code":"var _jsxFileName = \"/home/haruna/eficon.apps/student.eficon/src/components/register/RegisterDetails.js\";\nimport React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"../common/form\";\nimport { faArrowRight } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport FileInput from \"../common/fileinput\";\nimport CheckRadio from \"../common/checkRadio\";\nimport { studentApi } from \"../../config.json\";\nimport httpService from \"../../services/httpService\";\n\nclass RegisterDetails extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        contact: \"\",\n        gender: \"\"\n      },\n      errors: {},\n      isSecond: false,\n      files: {\n        id: null\n      }\n    };\n    this.schema = {\n      firstname: Joi.string().required().label(\"First Name\"),\n      lastname: Joi.string().required().label(\"Lastname\"),\n      email: Joi.string().required().email().label(\"Email\"),\n      contact: Joi.string().required().label(\"Contact\"),\n      residence: Joi.string().required().label(\"Residence\"),\n      nationality: Joi.string().required().label(\"Nationality\"),\n      dob: Joi.string().required().label(\"Date o Birth\"),\n      gender: Joi.string().required().label(\"Gender\"),\n      password: Joi.string().required().min(6).label(\"Password\")\n    };\n\n    this.doSubmit = async () => {\n      const options = {\n        indices: false,\n        nullsAsUndefineds: false,\n        booleansAsIntegers: false,\n        allowEmptyArrays: false\n      };\n\n      try {\n        const {\n          data,\n          files\n        } = this.state;\n        let all = { ...data,\n          ...files\n        };\n        let {\n          data: res\n        } = httpService.post(studentApi, formData);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 400) {\n          const errors = { ...this.state.errors\n          };\n          errors.username = ex.response.data;\n          this.setState({\n            errors\n          });\n        }\n      }\n    };\n\n    this.checkChange = (name, value) => {\n      const state = { ...this.state\n      };\n      state.data[name] = value;\n      this.setState(state);\n    };\n  }\n\n  render() {\n    const {\n      isSecond,\n      radios\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"my-3 text-dark fw-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, this.renderInput(\"firstname\", \"Firstname\"), this.renderInput(\"lastname\", \"Lastname\"), this.renderInput(\"email\", \"Email\"), this.renderInput(\"contact\", \"Contact\", \"number\"), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 21\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-around align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CheckRadio, {\n      label: \"Male\",\n      currentValue: radios.gender,\n      name: \"gender\",\n      type: \"radio\",\n      value: \"m\",\n      onChange: value => this.checkChange(\"gender\", value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(CheckRadio, {\n      label: \"Female\",\n      currentValue: radios.gender,\n      name: \"gender\",\n      type: \"radio\",\n      value: \"f\",\n      onChange: value => this.checkChange(\"gender\", value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse fade\",\n      id: \"moreFields\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }\n    }, this.renderInput(\"dob\", \"DOB\", \"date\"), this.renderInput(\"residence\", \"Residence\", \"text\"), this.renderInput(\"nationality\", \"Nationality\", \"text\"), this.renderInput(\"password\", \"Password\", \"text\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FileInput, {\n      label: \"Upload Identification document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"button\", {\n      \"data-bs-toggle\": \"collapse\",\n      \"data-bs-target\": \"#moreFields\",\n      type: \"button\",\n      className: \"btn btn-outline-warning btn-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, \"Continue \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faArrowRight,\n      className: \"mx-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 34\n      }\n    }))));\n  }\n\n}\n\nexport default RegisterDetails;","map":{"version":3,"sources":["/home/haruna/eficon.apps/student.eficon/src/components/register/RegisterDetails.js"],"names":["React","Joi","Form","faArrowRight","FontAwesomeIcon","FileInput","CheckRadio","studentApi","httpService","RegisterDetails","state","data","firstname","lastname","email","contact","gender","errors","isSecond","files","id","schema","string","required","label","residence","nationality","dob","password","min","doSubmit","options","indices","nullsAsUndefineds","booleansAsIntegers","allowEmptyArrays","all","res","post","formData","ex","response","status","username","setState","checkChange","name","value","render","radios","handleSubmit","renderInput"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"../common/form\";\nimport {faArrowRight} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport FileInput from \"../common/fileinput\";\nimport CheckRadio from \"../common/checkRadio\";\nimport {studentApi} from \"../../config.json\";\nimport httpService from \"../../services/httpService\";\n\nclass RegisterDetails extends Form {\n    state = {\n        data: {firstname: \"\", lastname: \"\", email: \"\", contact: \"\", gender: \"\"},\n        errors: {},\n        isSecond: false,\n        files: {\n            id: null,\n\n        }\n    };\n\n    schema = {\n        firstname: Joi.string()\n            .required()\n            .label(\"First Name\"),\n        lastname: Joi.string()\n            .required()\n            .label(\"Lastname\"),\n        email: Joi.string()\n            .required()\n            .email()\n            .label(\"Email\"),\n        contact: Joi.string()\n            .required()\n            .label(\"Contact\"),\n        residence: Joi.string()\n            .required()\n            .label(\"Residence\"),\n        nationality: Joi.string()\n            .required()\n            .label(\"Nationality\"),\n        dob: Joi.string()\n            .required()\n            .label(\"Date o Birth\"),\n        gender: Joi.string()\n            .required()\n            .label(\"Gender\"),\n        password: Joi.string()\n            .required()\n            .min(6)\n            .label(\"Password\")\n    };\n\n    doSubmit = async () => {\n        const options = {\n            indices: false,\n            nullsAsUndefineds: false,\n            booleansAsIntegers: false,\n            allowEmptyArrays: false,\n        };\n\n        try {\n            const {data, files} = this.state;\n            let all = {...data,...files};\n\n            let {data: res} = httpService.post(studentApi, formData);\n\n        } catch (ex) {\n            if (ex.response && ex.response.status === 400) {\n                const errors = {...this.state.errors};\n                errors.username = ex.response.data;\n                this.setState({errors});\n            }\n        }\n    };\n\n    checkChange = (name, value) => {\n        const state = {...this.state};\n        state.data[name] = value;\n        this.setState(state);\n    }\n\n    render() {\n\n        const {isSecond, radios} = this.state;\n\n        return (\n            <div>\n                <h1 className={\"my-3 text-dark fw-light\"}>Register</h1>\n                <form onSubmit={this.handleSubmit}>\n                    {this.renderInput(\"firstname\", \"Firstname\")}\n                    {this.renderInput(\"lastname\", \"Lastname\")}\n                    {this.renderInput(\"email\", \"Email\")}\n                    {this.renderInput(\"contact\", \"Contact\", \"number\")}\n\n                    <label>Gender</label>\n                    <div className={\"d-flex justify-content-around align-items-center mb-3\"}>\n                        <CheckRadio label={\"Male\"} currentValue={radios.gender} name={\"gender\"} type={\"radio\"}\n                                    value={\"m\"} onChange={value => this.checkChange(\"gender\", value)}/>\n                        <CheckRadio label={\"Female\"} currentValue={radios.gender} name={\"gender\"} type={\"radio\"}\n                                    value={\"f\"} onChange={value => this.checkChange(\"gender\", value)}/>\n                    </div>\n\n                    <div className={\"collapse fade\"} id={\"moreFields\"}>\n                        {this.renderInput(\"dob\", \"DOB\", \"date\")}\n                        {this.renderInput(\"residence\", \"Residence\", \"text\")}\n                        {this.renderInput(\"nationality\", \"Nationality\", \"text\")}\n                        {this.renderInput(\"password\", \"Password\", \"text\")}\n                        <div className={\"row mb-3\"}>\n                            <div className={\"col-6\"}>\n                                <FileInput label={\"Upload Identification document\"}/>\n                            </div>\n                        </div>\n                    </div>\n\n                    <button data-bs-toggle={\"collapse\"} data-bs-target={\"#moreFields\"} type=\"button\"\n                            className=\"btn btn-outline-warning btn-lg\">\n                        Continue <FontAwesomeIcon icon={faArrowRight} className={\"mx-2\"}/>\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n\nexport default RegisterDetails;\n"]},"metadata":{},"sourceType":"module"}